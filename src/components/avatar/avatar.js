import React, { useState, useEffect } from 'react'
import Avatarimage from './avatar_image/avatar_image'
import styles from './avatar.module.css'

export default function Avatar() {
    const [avatar, setAvatar] = useState("");
    const [user, setUser] = useState("");

    const GetAvatar = () => {
        if (localStorage.getItem('avatar') === null) {
            const image = "data:image/jpeg;base64,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"
            setAvatar(image);
        }
        else {
            const avatar = localStorage.getItem('avatar')
            setAvatar(avatar)
        }
    };

    const getUser = () => {
        const login = sessionStorage.getItem("login")
        if (login !== null) {
            setUser(login)
        }
        else {
            setUser("login..")
        }
    }

    useEffect(() => {
        GetAvatar();
    });

    useEffect(() => {
        
        getUser();
    })


    return (
        <div className={styles.avatar_component}>
            <div className={styles.avatarcircle}>
                <Avatarimage link={'/avatar'} image={avatar} />
            </div>
            <a href="/" className={styles.userlogin}>{ user }</a>
        </div>
    )
}
